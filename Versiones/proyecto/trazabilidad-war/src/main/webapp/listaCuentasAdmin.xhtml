<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:p="http://primefaces.org/ui">
<h:head>
	   <link rel="stylesheet" type="text/css" href="estilos.css"/>
       <title>Lista de cuentas</title>
</h:head>

<h:body>

		<div class="session">
			<h:outputLabel value="Bienvenido, "/>
			<h:outputLink value="editarPerfil.xhtml">
				<h:outputLabel value="#{login.userApk.user}"/>
			</h:outputLink><br/>
			<h:outputLink value="index.xhtml">Cerrar sesiÃ³n</h:outputLink>
		</div>

       <h:panelGrid class="panelListas" id = "panelListaCuentas" columns = "2" border = "1"
            cellpadding = "10" cellspacing = "1">
            
            <f:facet name = "header">
               <h:outputText value = "Lista de cuentas"/>
            </f:facet>
            
            <h:outputLabel>Pooled Account</h:outputLabel>
            
            <h:outputLabel>Segregada</h:outputLabel>
         
            <h:panelGrid  class="cuenta" columns = "3" cellpadding = "10" cellspacing = "1">   
			  	<h:button class="button" value="Nueva" outcome="#{cuentasAdmin.nuevaPooledWeb()}"/>
  	       		<h:button class="button" value="Editar" outcome="#{cuentasAdmin.editarPooledWeb()}"/>
 
			    <h:form id="bajaPooled">
			        <p:growl id="message" showDetail="true"/>
			
			        <h:commandButton class="button" id="buttonPooled" value="Dar de baja" update="message" action="#{cuentasAdmin.bajaPooledAccount()}" />
					<h:message class="error" for="bajaPooled"/>
			    </h:form>
	        </h:panelGrid>
			
	        <h:panelGrid class="cuenta" columns = "3" cellpadding = "10" cellspacing = "1">  
            	<h:button class="button" value="Nueva" outcome="#{cuentasAdmin.nuevaSegregadaWeb()}"/>
	       		<h:button class="button" value="Editar" outcome="#{cuentasAdmin.editarSegregadaWeb()}"/>
				<h:form id="bajaSegregada">
    				<p:growl id="message" showDetail="true"/>
    				
    				<h:commandButton class="button" id="buttonSegregada" value="Dar de baja" update="message" action="#{cuentasAdmin.bajaSegregada()}" onConfirmComplete="#{cuentasAdmin.reload}" />
					<h:message class="error" for="bajaSegregada"/>
				</h:form>
	        </h:panelGrid>
	        
	        <p:selectOneMenu id="pooled" value="#{cuentasAdmin.selectedPooled}">
	        	<f:selectItems id="selectPooled" value="#{cuentasAdmin.listaPooled}" var="c" itemLabel="IBAN: #{c.IBAN} Swift: #{c.swift} Estado: #{c.estado}" itemValue="#{c.IBAN}"/>
	        </p:selectOneMenu>
	
			<p:selectOneMenu id="segregada" value="#{cuentasAdmin.segregada}" var="s">
	        	<f:selectItems id="selectSegregada" value="#{cuentasAdmin.listaSegregada}" var="c" itemLabel="IBAN: #{c.IBAN} Swift: #{c.swift} ComisiÃ³n: #{c.comision} Estado: #{c.estado}" itemValue="#{c.IBAN}"/>
	        </p:selectOneMenu>
		</h:panelGrid>
</h:body>

</html>